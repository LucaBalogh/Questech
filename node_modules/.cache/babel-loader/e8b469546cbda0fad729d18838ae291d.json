{"ast":null,"code":"var _jsxFileName = \"D:\\\\Faculta\\\\Licenta\\\\Traveltech\\\\UI\\\\src\\\\main\\\\dashboard\\\\LocationMainProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from \"react\";\nimport { createMainLocation } from \"./locationMainApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  saving: false\n};\nexport const LocationMainContext = /*#__PURE__*/React.createContext(initialState);\nexport const LocationProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, setState] = useState(initialState);\n  const {\n    saving,\n    savingError\n  } = state;\n  const saveLocation = useCallback(saveLocationMainCallback, []);\n  const value = {\n    saving,\n    savingError,\n    saveLocation\n  };\n  return /*#__PURE__*/_jsxDEV(LocationMainContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this);\n\n  async function saveLocationMainCallback(location) {\n    try {\n      setState({ ...state,\n        savingError: null,\n        saving: true\n      });\n      const loc = {\n        id: location.id,\n        city: location.city,\n        country: location.country,\n        tip: location.tip,\n        rating: location.rating,\n        user: location.user\n      };\n      const savedLocation = await createMainLocation(loc);\n      setState({ ...state,\n        savingError: null,\n        saving: false\n      });\n      return savedLocation;\n    } catch (error) {\n      setState({ ...state,\n        savingError: error,\n        saving: false\n      });\n    }\n  }\n};\n\n_s(LocationProvider, \"kAHu6Lsp2XbNQLYS+135vBW8bjc=\");\n\n_c = LocationProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"LocationProvider\");","map":{"version":3,"sources":["D:/Faculta/Licenta/Traveltech/UI/src/main/dashboard/LocationMainProvider.tsx"],"names":["React","useCallback","useState","createMainLocation","initialState","saving","LocationMainContext","createContext","LocationProvider","children","state","setState","savingError","saveLocation","saveLocationMainCallback","value","location","loc","id","city","country","tip","rating","user","savedLocation","error"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AAGA,SAAQC,kBAAR,QAAiC,mBAAjC;;AAUA,MAAMC,YAA+B,GAAG;AACtCC,EAAAA,MAAM,EAAE;AAD8B,CAAxC;AAIA,OAAO,MAAMC,mBAAmB,gBAAGN,KAAK,CAACO,aAAN,CAC/BH,YAD+B,CAA5B;AAQP,OAAO,MAAMI,gBAAiD,GAAG,QAEO;AAAA;;AAAA,MAFN;AACEC,IAAAA;AADF,GAEM;AACtE,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAoBE,YAApB,CAAlC;AACA,QAAM;AAAEC,IAAAA,MAAF;AAAUO,IAAAA;AAAV,MAA0BF,KAAhC;AACA,QAAMG,YAAY,GAAGZ,WAAW,CAAqBa,wBAArB,EAA+C,EAA/C,CAAhC;AACA,QAAMC,KAAK,GAAG;AACZV,IAAAA,MADY;AAEZO,IAAAA,WAFY;AAGZC,IAAAA;AAHY,GAAd;AAMA,sBACI,QAAC,mBAAD,CAAqB,QAArB;AAA8B,IAAA,KAAK,EAAEE,KAArC;AAAA,cACGN;AADH;AAAA;AAAA;AAAA;AAAA,UADJ;;AAMA,iBAAeK,wBAAf,CAAwCE,QAAxC,EAAqE;AACnE,QAAI;AACFL,MAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWE,QAAAA,WAAW,EAAE,IAAxB;AAA8BP,QAAAA,MAAM,EAAE;AAAtC,OAAD,CAAR;AACA,YAAMY,GAAG,GAAG;AACVC,QAAAA,EAAE,EAAEF,QAAQ,CAACE,EADH;AAEVC,QAAAA,IAAI,EAAEH,QAAQ,CAACG,IAFL;AAGVC,QAAAA,OAAO,EAAEJ,QAAQ,CAACI,OAHR;AAIVC,QAAAA,GAAG,EAAEL,QAAQ,CAACK,GAJJ;AAKVC,QAAAA,MAAM,EAAEN,QAAQ,CAACM,MALP;AAMVC,QAAAA,IAAI,EAAEP,QAAQ,CAACO;AANL,OAAZ;AAQA,YAAMC,aAAa,GAAG,MAAOrB,kBAAkB,CAACc,GAAD,CAA/C;AACAN,MAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWE,QAAAA,WAAW,EAAE,IAAxB;AAA8BP,QAAAA,MAAM,EAAE;AAAtC,OAAD,CAAR;AACA,aAAOmB,aAAP;AACD,KAbD,CAaE,OAAOC,KAAP,EAAmB;AACnBd,MAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWE,QAAAA,WAAW,EAAEa,KAAxB;AAA+BpB,QAAAA,MAAM,EAAE;AAAvC,OAAD,CAAR;AACD;AACF;AACF,CApCM;;GAAMG,gB;;KAAAA,gB","sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { LocationMainProps } from \"./LocationMainProps\";\r\nimport {createMainLocation} from \"./locationMainApi\";\r\n\r\ntype SaveMainLocationFn = (location: LocationMainProps) => Promise<any>;\r\n\r\nexport interface LocationMainState {\r\n  saving: boolean;\r\n  savingError?: Error | null;\r\n  saveLocation?: SaveMainLocationFn;\r\n}\r\n\r\nconst initialState: LocationMainState = {\r\n  saving: false,\r\n};\r\n\r\nexport const LocationMainContext = React.createContext<LocationMainState>(\r\n    initialState\r\n);\r\n\r\ninterface LocationProviderProps {\r\n  children: PropTypes.ReactNodeLike;\r\n}\r\n\r\nexport const LocationProvider: React.FC<LocationProviderProps> = ({\r\n                                                                    children,\r\n                                                                  }) => {\r\n  const [state, setState] = useState<LocationMainState>(initialState);\r\n  const { saving, savingError } = state;\r\n  const saveLocation = useCallback<SaveMainLocationFn>(saveLocationMainCallback, []);\r\n  const value = {\r\n    saving,\r\n    savingError,\r\n    saveLocation,\r\n  };\r\n\r\n  return (\r\n      <LocationMainContext.Provider value={value}>\r\n        {children}\r\n      </LocationMainContext.Provider>\r\n  );\r\n\r\n  async function saveLocationMainCallback(location: LocationMainProps) {\r\n    try {\r\n      setState({...state, savingError: null, saving: true});\r\n      const loc = {\r\n        id: location.id!,\r\n        city: location.city!,\r\n        country: location.country!,\r\n        tip: location.tip!,\r\n        rating: location.rating!,\r\n        user: location.user!,\r\n      };\r\n      const savedLocation = await (createMainLocation(loc));\r\n      setState({...state, savingError: null, saving: false});\r\n      return savedLocation;\r\n    } catch (error: any) {\r\n      setState({...state, savingError: error, saving: false});\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}